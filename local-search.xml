<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>路由交换综合练习</title>
    <link href="/2022/09/04/Routing%20Comprehensive%20Exercise/"/>
    <url>/2022/09/04/Routing%20Comprehensive%20Exercise/</url>
    
    <content type="html"><![CDATA[<blockquote><blockquote><h1 id="综合练习-paper"><a href="#综合练习-paper" class="headerlink" title="综合练习.paper"></a>综合练习.paper</h1></blockquote><hr><p><strong>@author：Lee.poch</strong></p><p><strong>@time: 2022&#x2F;5&#x2F;26</strong></p><p><strong>@software:Typora</strong></p></blockquote><h2 id="配置要求"><a href="#配置要求" class="headerlink" title="配置要求"></a>配置要求</h2><ul><li><p>任务 1：设备命名</p><p>​ 修改设备名称与显示名称一致，注意大小写</p></li><li><p>任务 2：链路聚合</p><p>为了保证链路的稳定性，在 S1 和 S2 之间配置链路聚合，请通过 LACP 模式实现二层链路聚合，聚合接口 ID 为 5。</p></li><li><p>任务 3：配置 VLAN</p><p>按图示进行 VLAN 配置，并实现 VLAN 间通信。</p></li><li><p>任务 4：VRRP 配置</p><p>1.在 S1 和 S2 上创建两个虚拟组分配是 11 和 12，11 组上的虚拟组 IP：10.11.11.254，12 组上的虚拟组 IP：10.12.12.254.</p><p>2.11 组选择 S1 上为 master，12 组选择 S2 上的 VLAN 12 为 master，优先级都设置为 200，备用网关优先级默认。</p></li><li><p>任务 5：RSTP 配置</p><p>1.vlan 11 和 vlan12 的流量进行负载分担。</p><p>2.S1 为实例 11 跟桥，为实例 12 备用根桥（根桥优先级为 4096 和备份根桥优先级 8192）。</p><p>3.S2 为实例 12 根桥，为实例 11 备用根桥（根桥优先级为 4096 和备份根桥优先级 8192）。</p><p>3.S3 和 S4 连接用户的接口不要参与 STP 计算。</p><p>4.配置域名为 scitc，并配置域内 VLAN 和实例的映射关系（VLAN11 映射实例 11，VLAN12 映射实例 12）。</p></li><li><p>任务 6：IP 地址配置</p><p>1.按图示给各接口配置 IP 地址；</p><p>2.使用全局方式在 DHCP 设备上配置 DHCP 服务器，地址池分别为 v11 和 v12，DNS：119.6.6.6，地址租约时间为 90 分钟。</p><p>3.设置 DHCP 中继转发。</p></li><li><p>任务 7：通信配置</p><ol><li><p>内网使用 RIPv2 路由协议通信。</p><p>2.出外网使用默认路由。</p><p>3.将默认路由重分布进 RIP</p></li></ol></li><li><p>任务 8：出口设计</p><p>​ 1.将 WWW 服务器设置静态 NAT，全局地址为 200.1.1.3</p><p>2.PAT 配置：全局地址编号为 1，全局地址池为：200.1.1.4 -200.1.1.6，内网地址使用 ACL2000 指定范围，使用两个条件，让 VLAN11 和 VLAN12 内的主机上公网。</p></li><li><p>任务 9：远程登录配置</p><p>开启 FW 远程登录，用户认证方为 AAA，用户名为 jw，密码为 jw@2020,加密方式为 cipher，服务类型为 Telnet，配置服务器的用户权限等级为 3 级，设置同时在线人数为 5 人，认证方式为 aaa。</p></li></ul><h2 id="拓扑图"><a href="#拓扑图" class="headerlink" title="拓扑图"></a>拓扑图</h2><p><a href="#"><img src="https://s1.ax1x.com/2022/05/26/XVakUx.png"></a></p><h2 id="配置详细过程"><a href="#配置详细过程" class="headerlink" title="配置详细过程"></a>配置详细过程</h2><h3 id="任务一：设备命名"><a href="#任务一：设备命名" class="headerlink" title="任务一：设备命名"></a>任务一：设备命名</h3><h4 id="S1"><a href="#S1" class="headerlink" title="S1:"></a>S1:</h4><div class="code-wrapper"><pre><code class="hljs vim"><span class="hljs-symbol">&lt;Huawei&gt;</span><span class="hljs-built_in">system</span>-<span class="hljs-keyword">view</span>[Huawei]un in <span class="hljs-keyword">en</span>[Huawei]sysname S1</code></pre></div><h4 id="S2"><a href="#S2" class="headerlink" title="S2:"></a>S2:</h4><div class="code-wrapper"><pre><code class="hljs vim"><span class="hljs-symbol">&lt;Huawei&gt;</span><span class="hljs-built_in">system</span>-<span class="hljs-keyword">view</span>[Huawei]un in <span class="hljs-keyword">en</span>[Huawei]sysname S2</code></pre></div><h4 id="S3"><a href="#S3" class="headerlink" title="S3:"></a>S3:</h4><div class="code-wrapper"><pre><code class="hljs vim"><span class="hljs-symbol">&lt;Huawei&gt;</span><span class="hljs-built_in">system</span>-<span class="hljs-keyword">view</span>[Huawei]un in <span class="hljs-keyword">en</span>[Huawei]sysname S3</code></pre></div><h4 id="S4"><a href="#S4" class="headerlink" title="S4:"></a>S4:</h4><div class="code-wrapper"><pre><code class="hljs vim"><span class="hljs-symbol">&lt;Huawei&gt;</span><span class="hljs-built_in">system</span>-<span class="hljs-keyword">view</span>[Huawei]un in <span class="hljs-keyword">en</span>[Huawei]sysname S4</code></pre></div><h4 id="DHCP"><a href="#DHCP" class="headerlink" title="DHCP:"></a>DHCP:</h4><div class="code-wrapper"><pre><code class="hljs vim"><span class="hljs-symbol">&lt;Huawei&gt;</span><span class="hljs-built_in">system</span>-<span class="hljs-keyword">view</span>[Huawei]un in <span class="hljs-keyword">en</span>[Huawei]sysname DHCP</code></pre></div><h4 id="FW"><a href="#FW" class="headerlink" title="FW:"></a>FW:</h4><div class="code-wrapper"><pre><code class="hljs vim"><span class="hljs-symbol">&lt;Huawei&gt;</span><span class="hljs-built_in">system</span>-<span class="hljs-keyword">view</span>[Huawei]un in <span class="hljs-keyword">en</span>[Huawei]sysname FW</code></pre></div><h4 id="ISP"><a href="#ISP" class="headerlink" title="ISP:"></a>ISP:</h4><div class="code-wrapper"><pre><code class="hljs vim"><span class="hljs-symbol">&lt;Huawei&gt;</span><span class="hljs-built_in">system</span>-<span class="hljs-keyword">view</span>[Huawei]un in <span class="hljs-keyword">en</span>[Huawei]sysname ISP</code></pre></div><h3 id="任务二：链路聚合"><a href="#任务二：链路聚合" class="headerlink" title="任务二：链路聚合"></a>任务二：链路聚合</h3><h4 id="S1："><a href="#S1：" class="headerlink" title="S1："></a>S1：</h4><div class="code-wrapper"><pre><code class="hljs less"><span class="hljs-selector-attr">[S1]</span><span class="hljs-selector-tag">interface</span> <span class="hljs-selector-tag">Eth-Trunk</span> <span class="hljs-number">5</span><span class="hljs-selector-attr">[S1-Eth-Trunk5]</span><span class="hljs-selector-tag">mode</span> <span class="hljs-selector-tag">lacp-static</span><span class="hljs-selector-attr">[S1-Eth-Trunk5]</span><span class="hljs-selector-tag">trunkport</span> <span class="hljs-selector-tag">GigabitEthernet</span> <span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">2</span> <span class="hljs-selector-tag">to</span> <span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">3</span><span class="hljs-selector-tag">Info</span>: <span class="hljs-selector-tag">This</span> <span class="hljs-selector-tag">operation</span> <span class="hljs-selector-tag">may</span> <span class="hljs-selector-tag">take</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">few</span> <span class="hljs-selector-tag">seconds</span>. <span class="hljs-selector-tag">Please</span> <span class="hljs-selector-tag">wait</span> <span class="hljs-selector-tag">for</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">moment</span>..<span class="hljs-selector-class">.done</span>.<span class="hljs-selector-attr">[S1-Eth-Trunk5]</span><span class="hljs-selector-tag">port</span> <span class="hljs-selector-tag">link-type</span> <span class="hljs-selector-tag">trunk</span><span class="hljs-selector-attr">[S1-Eth-Trunk5]</span><span class="hljs-selector-tag">port</span> <span class="hljs-selector-tag">trunk</span> <span class="hljs-selector-tag">allow-pass</span> <span class="hljs-selector-tag">vlan</span> <span class="hljs-number">11</span> <span class="hljs-selector-tag">to</span> <span class="hljs-number">14</span><span class="hljs-selector-attr">[S1-Eth-Trunk5]</span><span class="hljs-selector-tag">q</span></code></pre></div><h4 id="S2："><a href="#S2：" class="headerlink" title="S2："></a>S2：</h4><div class="code-wrapper"><pre><code class="hljs asciidoc">[S2]interface Eth-Trunk 5[S2-Eth-Trunk5]mode lacp-static[S2-Eth-Trunk5]trunkport GigabitEthernet 0/0/2 to 0/0/3Info: This operation may take a few seconds. Please wait for a moment...done.[S2-Eth-Trunk5]port link-type trunk[S2-Eth-Trunk5]port trunk allow-pass vlan 11 to 14[S2-Eth-Trunk5]q[S2]display eth-trunk 5Eth-Trunk5&#x27;s state information is:Local:LAG ID: 5                   WorkingMode: STATICPreempt Delay: Disabled     Hash arithmetic: According to SIP-XOR-DIPSystem Priority: 32768      System ID: 4c1f-cc5f-3fabLeast Active-linknumber: 1  Max Active-linknumber: 8<span class="hljs-section">Operate status: up          Number Of Up Port In Trunk: 2</span><span class="hljs-section">--------------------------------------------------------------------------------</span>ActorPortName          Status   PortType PortPri PortNo PortKey PortState WeightGigabitEthernet0/0/2   Selected 1GE      32768   3      1329    10111100  1GigabitEthernet0/0/3   Selected 1GE      32768   4      1329    10111100  1<span class="hljs-section">Partner:</span><span class="hljs-section">--------------------------------------------------------------------------------</span>ActorPortName          SysPri   SystemID        PortPri PortNo PortKey PortStateGigabitEthernet0/0/2   32768    4c1f-cc8f-6c0c  32768   3      1329    10111100GigabitEthernet0/0/3   32768    4c1f-cc8f-6c0c  32768   4      1329    10111100</code></pre></div><h3 id="任务三：配置-VLAN"><a href="#任务三：配置-VLAN" class="headerlink" title="任务三：配置 VLAN"></a>任务三：配置 VLAN</h3><h4 id="S1-1"><a href="#S1-1" class="headerlink" title="S1:"></a>S1:</h4><div class="code-wrapper"><pre><code class="hljs less"><span class="hljs-selector-attr">[S1]</span><span class="hljs-selector-tag">vlan</span> <span class="hljs-selector-tag">batch</span> <span class="hljs-number">11</span> <span class="hljs-selector-tag">to</span> <span class="hljs-number">14</span><span class="hljs-selector-tag">Info</span>: <span class="hljs-selector-tag">This</span> <span class="hljs-selector-tag">operation</span> <span class="hljs-selector-tag">may</span> <span class="hljs-selector-tag">take</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">few</span> <span class="hljs-selector-tag">seconds</span>. <span class="hljs-selector-tag">Please</span> <span class="hljs-selector-tag">wait</span> <span class="hljs-selector-tag">for</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">moment</span>..<span class="hljs-selector-class">.done</span>.<span class="hljs-selector-attr">[S1]</span><span class="hljs-selector-tag">int</span> <span class="hljs-selector-tag">Vlanif</span> <span class="hljs-number">11</span><span class="hljs-selector-attr">[S1-Vlanif11]</span><span class="hljs-selector-tag">ip</span> <span class="hljs-selector-tag">address</span> <span class="hljs-number">10.11</span><span class="hljs-selector-class">.11</span><span class="hljs-selector-class">.1</span> <span class="hljs-number">24</span><span class="hljs-selector-attr">[S1-Vlanif11]</span><span class="hljs-selector-tag">q</span><span class="hljs-selector-attr">[S1]</span><span class="hljs-selector-tag">int</span> <span class="hljs-selector-tag">Vlanif</span> <span class="hljs-number">12</span><span class="hljs-selector-attr">[S1-Vlanif12]</span><span class="hljs-selector-tag">ip</span> <span class="hljs-selector-tag">address</span> <span class="hljs-number">10.12</span><span class="hljs-selector-class">.12</span><span class="hljs-selector-class">.1</span> <span class="hljs-number">24</span><span class="hljs-selector-attr">[S1-Vlanif12]</span><span class="hljs-selector-tag">q</span><span class="hljs-selector-attr">[S1]</span><span class="hljs-selector-tag">int</span> <span class="hljs-selector-tag">Vlanif</span> <span class="hljs-number">13</span><span class="hljs-selector-attr">[S1-Vlanif13]</span><span class="hljs-selector-tag">ip</span> <span class="hljs-selector-tag">address</span> <span class="hljs-number">10.13</span><span class="hljs-selector-class">.13</span><span class="hljs-selector-class">.1</span> <span class="hljs-number">24</span><span class="hljs-selector-attr">[S1-Vlanif13]</span><span class="hljs-selector-tag">q</span><span class="hljs-selector-attr">[S1]</span><span class="hljs-selector-tag">int</span> <span class="hljs-selector-tag">g</span> <span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">1</span><span class="hljs-selector-attr">[S1-GigabitEthernet0/0/1]</span><span class="hljs-selector-tag">port</span> <span class="hljs-selector-tag">link-type</span> <span class="hljs-selector-tag">access</span><span class="hljs-selector-attr">[S1-GigabitEthernet0/0/1]</span><span class="hljs-selector-tag">port</span> <span class="hljs-selector-tag">default</span> <span class="hljs-selector-tag">vlan</span> <span class="hljs-number">13</span><span class="hljs-selector-attr">[S1-GigabitEthernet0/0/1]</span><span class="hljs-selector-tag">q</span><span class="hljs-selector-attr">[S1]</span><span class="hljs-selector-tag">port-group</span> <span class="hljs-selector-tag">group-member</span> <span class="hljs-selector-tag">g</span> <span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">20</span> <span class="hljs-selector-tag">to</span> <span class="hljs-selector-tag">g</span> <span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">21</span><span class="hljs-selector-attr">[S1-port-group]</span><span class="hljs-selector-tag">port</span> <span class="hljs-selector-tag">link-type</span> <span class="hljs-selector-tag">trunk</span><span class="hljs-selector-attr">[S1-GigabitEthernet0/0/20]</span><span class="hljs-selector-tag">port</span> <span class="hljs-selector-tag">link-type</span> <span class="hljs-selector-tag">trunk</span><span class="hljs-selector-attr">[S1-GigabitEthernet0/0/21]</span><span class="hljs-selector-tag">port</span> <span class="hljs-selector-tag">link-type</span> <span class="hljs-selector-tag">trunk</span><span class="hljs-selector-attr">[S1-port-group]</span><span class="hljs-selector-tag">port</span> <span class="hljs-selector-tag">trunk</span> <span class="hljs-selector-tag">allow-pass</span> <span class="hljs-selector-tag">vlan</span> <span class="hljs-number">11</span> <span class="hljs-selector-tag">to</span> <span class="hljs-number">14</span><span class="hljs-selector-attr">[S1-GigabitEthernet0/0/20]</span><span class="hljs-selector-tag">port</span> <span class="hljs-selector-tag">trunk</span> <span class="hljs-selector-tag">allow-pass</span> <span class="hljs-selector-tag">vlan</span> <span class="hljs-number">11</span> <span class="hljs-selector-tag">to</span> <span class="hljs-number">14</span><span class="hljs-selector-attr">[S1-GigabitEthernet0/0/21]</span><span class="hljs-selector-tag">port</span> <span class="hljs-selector-tag">trunk</span> <span class="hljs-selector-tag">allow-pass</span> <span class="hljs-selector-tag">vlan</span> <span class="hljs-number">11</span> <span class="hljs-selector-tag">to</span> <span class="hljs-number">14</span><span class="hljs-selector-attr">[S1-port-group]</span><span class="hljs-selector-tag">q</span></code></pre></div><h4 id="S2-1"><a href="#S2-1" class="headerlink" title="S2:"></a>S2:</h4><div class="code-wrapper"><pre><code class="hljs less"><span class="hljs-selector-attr">[S2]</span><span class="hljs-selector-tag">vlan</span> <span class="hljs-selector-tag">batch</span> <span class="hljs-number">11</span> <span class="hljs-selector-tag">to</span> <span class="hljs-number">14</span><span class="hljs-selector-tag">Info</span>: <span class="hljs-selector-tag">This</span> <span class="hljs-selector-tag">operation</span> <span class="hljs-selector-tag">may</span> <span class="hljs-selector-tag">take</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">few</span> <span class="hljs-selector-tag">seconds</span>. <span class="hljs-selector-tag">Please</span> <span class="hljs-selector-tag">wait</span> <span class="hljs-selector-tag">for</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">moment</span>..<span class="hljs-selector-class">.done</span>.<span class="hljs-selector-attr">[S2]</span><span class="hljs-selector-tag">int</span> <span class="hljs-selector-tag">Vlanif</span> <span class="hljs-number">11</span><span class="hljs-selector-attr">[S2-Vlanif11]</span><span class="hljs-selector-tag">ip</span> <span class="hljs-selector-tag">address</span> <span class="hljs-number">10.11</span><span class="hljs-selector-class">.11</span><span class="hljs-selector-class">.2</span> <span class="hljs-number">24</span><span class="hljs-selector-attr">[S2-Vlanif11]</span><span class="hljs-selector-tag">q</span><span class="hljs-selector-attr">[S2]</span><span class="hljs-selector-tag">int</span> <span class="hljs-selector-tag">Vlanif</span> <span class="hljs-number">12</span><span class="hljs-selector-attr">[S2-Vlanif12]</span><span class="hljs-selector-tag">ip</span> <span class="hljs-selector-tag">address</span> <span class="hljs-number">10.12</span><span class="hljs-selector-class">.12</span><span class="hljs-selector-class">.2</span> <span class="hljs-number">24</span><span class="hljs-selector-attr">[S2-Vlanif12]</span><span class="hljs-selector-tag">q</span><span class="hljs-selector-attr">[S2]</span><span class="hljs-selector-tag">int</span> <span class="hljs-selector-tag">Vlanif</span> <span class="hljs-number">14</span><span class="hljs-selector-attr">[S2-Vlanif14]</span><span class="hljs-selector-tag">ip</span> <span class="hljs-selector-tag">address</span> <span class="hljs-number">10.14</span><span class="hljs-selector-class">.14</span><span class="hljs-selector-class">.1</span> <span class="hljs-number">24</span><span class="hljs-selector-attr">[S2-Vlanif14]</span><span class="hljs-selector-tag">q</span><span class="hljs-selector-attr">[S2]</span><span class="hljs-selector-tag">int</span> <span class="hljs-selector-tag">g</span> <span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">1</span><span class="hljs-selector-attr">[S2-GigabitEthernet0/0/1]</span><span class="hljs-selector-tag">port</span> <span class="hljs-selector-tag">link-type</span> <span class="hljs-selector-tag">access</span><span class="hljs-selector-attr">[S2-GigabitEthernet0/0/1]</span><span class="hljs-selector-tag">port</span> <span class="hljs-selector-tag">default</span> <span class="hljs-selector-tag">vlan</span> <span class="hljs-number">14</span><span class="hljs-selector-attr">[S2-GigabitEthernet0/0/1]</span><span class="hljs-selector-tag">q</span><span class="hljs-selector-attr">[S2]</span><span class="hljs-selector-tag">port-group</span> <span class="hljs-selector-tag">group-member</span> <span class="hljs-selector-tag">g</span> <span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">20</span> <span class="hljs-selector-tag">to</span> <span class="hljs-selector-tag">g</span> <span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">21</span><span class="hljs-selector-attr">[S2-port-group]</span><span class="hljs-selector-tag">port</span> <span class="hljs-selector-tag">link-type</span> <span class="hljs-selector-tag">trunk</span><span class="hljs-selector-attr">[S2-GigabitEthernet0/0/20]</span><span class="hljs-selector-tag">port</span> <span class="hljs-selector-tag">link-type</span> <span class="hljs-selector-tag">trunk</span><span class="hljs-selector-attr">[S2-GigabitEthernet0/0/21]</span><span class="hljs-selector-tag">port</span> <span class="hljs-selector-tag">link-type</span> <span class="hljs-selector-tag">trunk</span><span class="hljs-selector-attr">[S2-port-group]</span><span class="hljs-selector-tag">port</span> <span class="hljs-selector-tag">trunk</span> <span class="hljs-selector-tag">allow-pass</span> <span class="hljs-selector-tag">vlan</span> <span class="hljs-number">11</span> <span class="hljs-selector-tag">to</span> <span class="hljs-number">14</span><span class="hljs-selector-attr">[S2-GigabitEthernet0/0/20]</span><span class="hljs-selector-tag">port</span> <span class="hljs-selector-tag">trunk</span> <span class="hljs-selector-tag">allow-pass</span> <span class="hljs-selector-tag">vlan</span> <span class="hljs-number">11</span> <span class="hljs-selector-tag">to</span> <span class="hljs-number">14</span><span class="hljs-selector-attr">[S2-GigabitEthernet0/0/21]</span><span class="hljs-selector-tag">port</span> <span class="hljs-selector-tag">trunk</span> <span class="hljs-selector-tag">allow-pass</span> <span class="hljs-selector-tag">vlan</span> <span class="hljs-number">11</span> <span class="hljs-selector-tag">to</span> <span class="hljs-number">14</span><span class="hljs-selector-attr">[S2-port-group]</span><span class="hljs-selector-tag">q</span></code></pre></div><h4 id="S3-1"><a href="#S3-1" class="headerlink" title="S3:"></a>S3:</h4><div class="code-wrapper"><pre><code class="hljs gradle">[S3]vlan batch <span class="hljs-number">11</span> to <span class="hljs-number">14</span>Info: <span class="hljs-keyword">This</span> operation may take a few seconds. Please wait <span class="hljs-keyword">for</span> a moment...done.[S3]port-<span class="hljs-keyword">group</span> <span class="hljs-keyword">group</span>-member e <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">20</span> to e <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">21</span>[S3-port-<span class="hljs-keyword">group</span>]port link-type trunk[S3-Ethernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">20</span>]port link-type trunk[S3-Ethernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">21</span>]port link-type trunk[S3-port-<span class="hljs-keyword">group</span>]port trunk allow-pass vlan <span class="hljs-number">11</span> to <span class="hljs-number">14</span>[S3-Ethernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">20</span>]port trunk allow-pass vlan <span class="hljs-number">11</span> to <span class="hljs-number">14</span>[S3-Ethernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">21</span>]port trunk allow-pass vlan <span class="hljs-number">11</span> to <span class="hljs-number">14</span>[S3-port-<span class="hljs-keyword">group</span>]q[S3]<span class="hljs-keyword">int</span> e <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>[S3-Ethernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>]port link-type access[S3-Ethernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>]port <span class="hljs-keyword">default</span> vlan <span class="hljs-number">11</span>[S3-Ethernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>]q[S3]<span class="hljs-keyword">int</span> e <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">11</span>[S3-Ethernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">11</span>]port link-type access[S3-Ethernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">11</span>]port <span class="hljs-keyword">default</span> vlan <span class="hljs-number">12</span>[S3-Ethernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">11</span>]q</code></pre></div><h4 id="S4-1"><a href="#S4-1" class="headerlink" title="S4:"></a>S4:</h4><div class="code-wrapper"><pre><code class="hljs gradle">[S4]vlan batch <span class="hljs-number">11</span>  to <span class="hljs-number">14</span>Info: <span class="hljs-keyword">This</span> operation may take a few seconds. Please wait <span class="hljs-keyword">for</span> a moment...done.[S4]port-<span class="hljs-keyword">group</span> <span class="hljs-keyword">group</span>-member e <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">20</span> to e <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">21</span>[S4-port-<span class="hljs-keyword">group</span>]port link-type trunk[S4-Ethernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">20</span>]port link-type trunk[S4-Ethernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">21</span>]port link-type trunk[S4-port-<span class="hljs-keyword">group</span>]port trunk allow-pass vlan <span class="hljs-number">11</span> to <span class="hljs-number">14</span>[S4-Ethernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">20</span>]port trunk allow-pass vlan <span class="hljs-number">11</span> to <span class="hljs-number">14</span>[S4-Ethernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">21</span>]port trunk allow-pass vlan <span class="hljs-number">11</span> to <span class="hljs-number">14</span>[S4-port-<span class="hljs-keyword">group</span>]q[S4]<span class="hljs-keyword">int</span> e <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>[S4-Ethernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>]port link-type access[S4-Ethernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>]port <span class="hljs-keyword">default</span> vlan <span class="hljs-number">11</span>[S4-Ethernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>]q[S4]<span class="hljs-keyword">int</span> e <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">11</span>[S4-Ethernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">11</span>]port link-type access[S4-Ethernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">11</span>]port <span class="hljs-keyword">default</span> vlan <span class="hljs-number">12</span>[S4-Ethernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">11</span>]q</code></pre></div><h3 id="任务四：VRRP-配置"><a href="#任务四：VRRP-配置" class="headerlink" title="任务四：VRRP 配置"></a>任务四：VRRP 配置</h3><h4 id="S1：-1"><a href="#S1：-1" class="headerlink" title="S1："></a>S1：</h4><div class="code-wrapper"><pre><code class="hljs csharp">[<span class="hljs-meta">S1</span>]<span class="hljs-built_in">int</span> Vlanif <span class="hljs-number">11</span>[<span class="hljs-meta">S1-Vlanif11</span>]vrrp vrid <span class="hljs-number">11</span> <span class="hljs-keyword">virtual</span>-ip <span class="hljs-number">10.11</span><span class="hljs-number">.11</span><span class="hljs-number">.254</span>[<span class="hljs-meta">S1-Vlanif11</span>]vrrp vrid <span class="hljs-number">11</span> priority <span class="hljs-number">200</span>[<span class="hljs-meta">S1-Vlanif11</span>]q[<span class="hljs-meta">S1</span>]<span class="hljs-built_in">int</span> Vlanif <span class="hljs-number">12</span>[<span class="hljs-meta">S1-Vlanif12</span>]vrrp vrid <span class="hljs-number">12</span> <span class="hljs-keyword">virtual</span>-ip <span class="hljs-number">10.12</span><span class="hljs-number">.12</span><span class="hljs-number">.254</span>[<span class="hljs-meta">S1-Vlanif12</span>]q</code></pre></div><h4 id="S2：-1"><a href="#S2：-1" class="headerlink" title="S2："></a>S2：</h4><div class="code-wrapper"><pre><code class="hljs csharp">[<span class="hljs-meta">S2</span>]<span class="hljs-built_in">int</span> Vlanif <span class="hljs-number">11</span>[<span class="hljs-meta">S2-Vlanif11</span>]vrrp vrid <span class="hljs-number">11</span> <span class="hljs-keyword">virtual</span>-ip <span class="hljs-number">10.11</span><span class="hljs-number">.11</span><span class="hljs-number">.254</span>[<span class="hljs-meta">S2-Vlanif11</span>]q[<span class="hljs-meta">S2</span>]<span class="hljs-built_in">int</span> Vlanif <span class="hljs-number">12</span>[<span class="hljs-meta">S2-Vlanif12</span>]vrrp vrid <span class="hljs-number">12</span> <span class="hljs-keyword">virtual</span>-ip <span class="hljs-number">10.12</span><span class="hljs-number">.12</span><span class="hljs-number">.254</span>[<span class="hljs-meta">S2-Vlanif12</span>]vrrp vrid <span class="hljs-number">12</span> priority <span class="hljs-number">200</span>[<span class="hljs-meta">S2-Vlanif12</span>]q</code></pre></div><h3 id="任务五：MSTP-配置"><a href="#任务五：MSTP-配置" class="headerlink" title="任务五：MSTP 配置"></a>任务五：MSTP 配置</h3><h4 id="S1-2"><a href="#S1-2" class="headerlink" title="S1:"></a>S1:</h4><div class="code-wrapper"><pre><code class="hljs smali">[S1]stp region-configuration[S1-mst-region]region-name scitc[S1-mst-region]instance 11 vlan 11[S1-mst-region]instance 12 vlan 12[S1-mst-region]active region-configurationInfo: This operation may take a few seconds. Please wait for a moment...done.[S1-mst-region]q[S1]stp<span class="hljs-built_in"> instance </span>11 priority 4096[S1]stp<span class="hljs-built_in"> instance </span>12 priority 8192</code></pre></div><h4 id="S2-2"><a href="#S2-2" class="headerlink" title="S2:"></a>S2:</h4><div class="code-wrapper"><pre><code class="hljs smali">[S2]stp region-configuration[S2-mst-region]region-name scitc[S2-mst-region]instance 11 vlan 11[S2-mst-region]instance 12 vlan 12[S2-mst-region]active region-configurationInfo: This operation may take a few seconds. Please wait for a moment...done.[S2-mst-region]q[S2]stp<span class="hljs-built_in"> instance </span>11 priority 8192[S2]stp<span class="hljs-built_in"> instance </span>12 priority 4096</code></pre></div><h4 id="S3-2"><a href="#S3-2" class="headerlink" title="S3:"></a>S3:</h4><div class="code-wrapper"><pre><code class="hljs mipsasm">[<span class="hljs-built_in">S3</span>]stp region-configuration[<span class="hljs-built_in">S3</span>-mst-region]region-name <span class="hljs-keyword">scitc</span><span class="hljs-keyword"></span>[<span class="hljs-built_in">S3</span>-mst-region]<span class="hljs-keyword">instance </span><span class="hljs-number">11</span> vlan <span class="hljs-number">11</span>[<span class="hljs-built_in">S3</span>-mst-region]<span class="hljs-keyword">instance </span><span class="hljs-number">12</span> vlan <span class="hljs-number">12</span>[<span class="hljs-built_in">S3</span>-mst-region]active region-configuration[<span class="hljs-built_in">S3</span>-mst-region]q</code></pre></div><h4 id="S4-2"><a href="#S4-2" class="headerlink" title="S4:"></a>S4:</h4><div class="code-wrapper"><pre><code class="hljs mipsasm">[<span class="hljs-built_in">S4</span>]stp region-configuration[<span class="hljs-built_in">S4</span>-mst-region]region-name <span class="hljs-keyword">scitc</span><span class="hljs-keyword"></span>[<span class="hljs-built_in">S4</span>-mst-region]<span class="hljs-keyword">instance </span><span class="hljs-number">11</span> vlan <span class="hljs-number">11</span>[<span class="hljs-built_in">S4</span>-mst-region]<span class="hljs-keyword">instance </span><span class="hljs-number">12</span> vlan <span class="hljs-number">12</span>[<span class="hljs-built_in">S4</span>-mst-region]active region-configuration[<span class="hljs-built_in">S4</span>-mst-region]q</code></pre></div><h3 id="任务六：IP-地址配置"><a href="#任务六：IP-地址配置" class="headerlink" title="任务六：IP 地址配置"></a>任务六：IP 地址配置</h3><h4 id="DHCP-1"><a href="#DHCP-1" class="headerlink" title="DHCP:"></a>DHCP:</h4><div class="code-wrapper"><pre><code class="hljs css"><span class="hljs-selector-attr">[DHCP]</span>int g <span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><span class="hljs-selector-attr">[DHCP-GigabitEthernet0/0/0]</span>ip <span class="hljs-selector-tag">address</span> <span class="hljs-number">10.20</span>.<span class="hljs-number">20.20</span> <span class="hljs-number">24</span><span class="hljs-selector-attr">[DHCP-GigabitEthernet0/0/0]</span><span class="hljs-selector-tag">q</span><span class="hljs-selector-attr">[DHCP]</span>dhcp enable<span class="hljs-selector-attr">[DHCP]</span>ip pool v11<span class="hljs-selector-attr">[DHCP-ip-pool-v11]</span>network <span class="hljs-number">10.11</span>.<span class="hljs-number">11.0</span> <span class="hljs-attribute">mask</span> <span class="hljs-number">24</span><span class="hljs-selector-attr">[DHCP-ip-pool-v11]</span>gateway-list <span class="hljs-number">10.11</span>.<span class="hljs-number">11.254</span><span class="hljs-selector-attr">[DHCP-ip-pool-v11]</span>dns-list <span class="hljs-number">119.6</span>.<span class="hljs-number">6.6</span>Info<span class="hljs-selector-pseudo">:Part</span> of the domain-name-server IP has already exist.<span class="hljs-selector-attr">[DHCP-ip-pool-v11]</span>lease day <span class="hljs-number">0</span> hour <span class="hljs-number">1</span> minute <span class="hljs-number">30</span><span class="hljs-selector-attr">[DHCP-ip-pool-v11]</span><span class="hljs-selector-tag">q</span><span class="hljs-selector-attr">[DHCP]</span>ip pool v12<span class="hljs-selector-attr">[DHCP-ip-pool-v12]</span>network <span class="hljs-number">10.12</span>.<span class="hljs-number">12.0</span> <span class="hljs-attribute">mask</span> <span class="hljs-number">24</span><span class="hljs-selector-attr">[DHCP-ip-pool-v12]</span>gateway-list <span class="hljs-number">10.12</span>.<span class="hljs-number">12.254</span><span class="hljs-selector-attr">[DHCP-ip-pool-v12]</span>dns-list <span class="hljs-number">119.6</span>.<span class="hljs-number">6.6</span>Info<span class="hljs-selector-pseudo">:Part</span> of the domain-name-server IP has already exist.<span class="hljs-selector-attr">[DHCP-ip-pool-v12]</span>lease day <span class="hljs-number">0</span> hour <span class="hljs-number">1</span> minute <span class="hljs-number">30</span><span class="hljs-selector-attr">[DHCP-ip-pool-v12]</span><span class="hljs-selector-tag">q</span><span class="hljs-selector-attr">[DHCP]</span>int g <span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><span class="hljs-selector-attr">[DHCP-GigabitEthernet0/0/0]</span>dhcp select global<span class="hljs-selector-attr">[DHCP-GigabitEthernet0/0/0]</span><span class="hljs-selector-tag">q</span></code></pre></div><h4 id="Core"><a href="#Core" class="headerlink" title="Core:"></a>Core:</h4><div class="code-wrapper"><pre><code class="hljs gradle">[Core]<span class="hljs-keyword">int</span> g <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>[Core-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>]ip address <span class="hljs-number">10.13</span>.<span class="hljs-number">13.2</span> <span class="hljs-number">24</span>[Core-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>]<span class="hljs-keyword">int</span> g <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>[Core-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>]ip address <span class="hljs-number">10.14</span>.<span class="hljs-number">14.2</span> <span class="hljs-number">24</span>[Core-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>]<span class="hljs-keyword">int</span> g <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">2</span>[Core-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">2</span>]ip address <span class="hljs-number">10.1</span>.<span class="hljs-number">1.1</span> <span class="hljs-number">24</span>[Core-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">2</span>]<span class="hljs-keyword">int</span> g <span class="hljs-number">4</span><span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>[Core-GigabitEthernet4<span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>]ip address <span class="hljs-number">10.20</span>.<span class="hljs-number">20.1</span> <span class="hljs-number">24</span>[Core-GigabitEthernet4<span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>]q</code></pre></div><h4 id="FW-1"><a href="#FW-1" class="headerlink" title="FW:"></a>FW:</h4><div class="code-wrapper"><pre><code class="hljs gradle">[FW]<span class="hljs-keyword">int</span> g <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>[FW-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>]ip address <span class="hljs-number">10.1</span>.<span class="hljs-number">1.2</span> <span class="hljs-number">24</span>[FW-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>]<span class="hljs-keyword">int</span> g <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>[FW-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>]ip address <span class="hljs-number">10.10</span>.<span class="hljs-number">10.1</span> <span class="hljs-number">24</span>[FW-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>]<span class="hljs-keyword">int</span> g <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">2</span>[FW-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">2</span>]ip address <span class="hljs-number">200.1</span>.<span class="hljs-number">1.1</span> <span class="hljs-number">29</span>[FW-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">2</span>]q</code></pre></div><h4 id="ISP-1"><a href="#ISP-1" class="headerlink" title="ISP:"></a>ISP:</h4><div class="code-wrapper"><pre><code class="hljs gradle">[ISP]<span class="hljs-keyword">int</span> g <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>[ISP-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>]ip address <span class="hljs-number">200.1</span>.<span class="hljs-number">1.2</span> <span class="hljs-number">29</span>[ISP-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">0</span>]<span class="hljs-keyword">int</span> g <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>[ISP-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>]ip address <span class="hljs-number">201.1</span>.<span class="hljs-number">1.1</span> <span class="hljs-number">30</span>[ISP-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">1</span>]q</code></pre></div><h4 id="S1-3"><a href="#S1-3" class="headerlink" title="S1:"></a>S1:</h4><div class="code-wrapper"><pre><code class="hljs csharp">[<span class="hljs-meta">S1</span>]dhcp enable[<span class="hljs-meta">S1</span>]<span class="hljs-built_in">int</span> Vlanif <span class="hljs-number">11</span>[<span class="hljs-meta">S1-Vlanif11</span>]dhcp <span class="hljs-keyword">select</span> relay[<span class="hljs-meta">S1-Vlanif11</span>]dhcp relay server-ip <span class="hljs-number">10.20</span><span class="hljs-number">.20</span><span class="hljs-number">.20</span>[<span class="hljs-meta">S1-Vlanif11</span>]<span class="hljs-built_in">int</span> vlan <span class="hljs-number">12</span>[<span class="hljs-meta">S1-Vlanif12</span>]dhcp <span class="hljs-keyword">select</span> relay[<span class="hljs-meta">S1-Vlanif12</span>]dhcp relay server-ip <span class="hljs-number">10.20</span><span class="hljs-number">.20</span><span class="hljs-number">.20</span>[<span class="hljs-meta">S1-Vlanif12</span>]q</code></pre></div><h4 id="S2-3"><a href="#S2-3" class="headerlink" title="S2:"></a>S2:</h4><div class="code-wrapper"><pre><code class="hljs csharp">[<span class="hljs-meta">S2</span>]dhcp enable[<span class="hljs-meta">S2</span>]<span class="hljs-built_in">int</span> Vlanif <span class="hljs-number">11</span>[<span class="hljs-meta">S2-Vlanif11</span>]dhcp <span class="hljs-keyword">select</span> relay[<span class="hljs-meta">S2-Vlanif11</span>]dhcp relay server-ip <span class="hljs-number">10.20</span><span class="hljs-number">.20</span><span class="hljs-number">.20</span>[<span class="hljs-meta">S2-Vlanif11</span>]<span class="hljs-built_in">int</span> vlan <span class="hljs-number">12</span>[<span class="hljs-meta">S2-Vlanif12</span>]dhcp <span class="hljs-keyword">select</span> relay[<span class="hljs-meta">S2-Vlanif12</span>]dhcp relay server-ip <span class="hljs-number">10.20</span><span class="hljs-number">.20</span><span class="hljs-number">.20</span>[<span class="hljs-meta">S2-Vlanif12</span>]q</code></pre></div><h3 id="任务七：通信配置"><a href="#任务七：通信配置" class="headerlink" title="任务七：通信配置"></a>任务七：通信配置</h3><h4 id="Core-1"><a href="#Core-1" class="headerlink" title="Core"></a>Core</h4><div class="code-wrapper"><pre><code class="hljs css"><span class="hljs-selector-attr">[Core]</span>rip <span class="hljs-number">1</span><span class="hljs-selector-attr">[Core-rip-1]</span>version <span class="hljs-number">2</span><span class="hljs-selector-attr">[Core-rip-1]</span>un <span class="hljs-selector-tag">summary</span><span class="hljs-selector-attr">[Core-rip-1]</span>network <span class="hljs-number">10.0</span>.<span class="hljs-number">0.0</span><span class="hljs-selector-attr">[Core-rip-1]</span><span class="hljs-selector-tag">q</span></code></pre></div><h4 id="S1-4"><a href="#S1-4" class="headerlink" title="S1"></a>S1</h4><div class="code-wrapper"><pre><code class="hljs css"><span class="hljs-selector-attr">[S1]</span>rip <span class="hljs-number">1</span><span class="hljs-selector-attr">[S1-rip-1]</span>version <span class="hljs-number">2</span><span class="hljs-selector-attr">[S1-rip-1]</span>un <span class="hljs-selector-tag">summary</span><span class="hljs-selector-attr">[S1-rip-1]</span>network <span class="hljs-number">10.0</span>.<span class="hljs-number">0.0</span><span class="hljs-selector-attr">[S1-rip-1]</span><span class="hljs-selector-tag">q</span></code></pre></div><h4 id="S2-4"><a href="#S2-4" class="headerlink" title="S2"></a>S2</h4><div class="code-wrapper"><pre><code class="hljs css"><span class="hljs-selector-attr">[S2]</span>rip <span class="hljs-number">1</span><span class="hljs-selector-attr">[S2-rip-1]</span>version <span class="hljs-number">2</span><span class="hljs-selector-attr">[S2-rip-1]</span>un <span class="hljs-selector-tag">summary</span><span class="hljs-selector-attr">[S2-rip-1]</span>network <span class="hljs-number">10.0</span>.<span class="hljs-number">0.0</span><span class="hljs-selector-attr">[S2-rip-1]</span><span class="hljs-selector-tag">q</span></code></pre></div><h4 id="FW-2"><a href="#FW-2" class="headerlink" title="FW"></a>FW</h4><div class="code-wrapper"><pre><code class="hljs csharp">[<span class="hljs-meta">FW</span>]ip route-<span class="hljs-keyword">static</span> <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span> <span class="hljs-number">0</span> <span class="hljs-number">200.1</span><span class="hljs-number">.1</span><span class="hljs-number">.2</span>[<span class="hljs-meta">FW</span>]rip<span class="hljs-number">1</span>[<span class="hljs-meta">FW-rip-1</span>]version <span class="hljs-number">2</span>[<span class="hljs-meta">FW-rip-1</span>]un summary[<span class="hljs-meta">FW-rip-1</span>]network <span class="hljs-number">10.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>[<span class="hljs-meta">FW-rip-1</span>]<span class="hljs-literal">default</span>-route originate[<span class="hljs-meta">FW-rip-1</span>]q</code></pre></div><h4 id="DHCP-2"><a href="#DHCP-2" class="headerlink" title="DHCP"></a>DHCP</h4><div class="code-wrapper"><pre><code class="hljs css"><span class="hljs-selector-attr">[DHCP]</span>rip <span class="hljs-number">1</span><span class="hljs-selector-attr">[DHCP]</span>version <span class="hljs-number">2</span><span class="hljs-selector-attr">[DHCP]</span>un <span class="hljs-selector-tag">summary</span><span class="hljs-selector-attr">[DHCP]</span>network <span class="hljs-number">10.0</span>.<span class="hljs-number">0.0</span><span class="hljs-selector-attr">[DHCP]</span><span class="hljs-selector-tag">q</span></code></pre></div><h3 id="任务八-出口设计"><a href="#任务八-出口设计" class="headerlink" title="任务八: 出口设计"></a>任务八: 出口设计</h3><h4 id="FW-3"><a href="#FW-3" class="headerlink" title="FW"></a>FW</h4><div class="code-wrapper"><pre><code class="hljs gradle">[FW]<span class="hljs-keyword">int</span> GigabitEthernet <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">2</span>[FW-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">2</span>]nat <span class="hljs-keyword">static</span> global <span class="hljs-number">200.1</span>.<span class="hljs-number">1.3</span> inside <span class="hljs-number">10.10</span>.<span class="hljs-number">10.10</span>[FW-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">2</span>]q[FW]nat address-<span class="hljs-keyword">group</span> <span class="hljs-number">1</span> <span class="hljs-number">200.1</span>.<span class="hljs-number">1.4</span> <span class="hljs-number">200.1</span>.<span class="hljs-number">1.6</span>[FW]acl <span class="hljs-number">2000</span>[FW-acl-basic-<span class="hljs-number">2000</span>]rule  permit <span class="hljs-keyword">source</span> <span class="hljs-number">10.11</span>.<span class="hljs-number">11.0</span> <span class="hljs-number">0.0</span>.<span class="hljs-number">0.255</span>[FW-acl-basic-<span class="hljs-number">2000</span>]rule  permit <span class="hljs-keyword">source</span> <span class="hljs-number">10.12</span>.<span class="hljs-number">12.0</span> <span class="hljs-number">0.0</span>.<span class="hljs-number">0.255</span>[FW-acl-basic-<span class="hljs-number">2000</span>]q[FW]<span class="hljs-keyword">int</span> GigabitEthernet <span class="hljs-number">0</span><span class="hljs-regexp">/0/</span><span class="hljs-number">2</span>[FW-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">2</span>]nat outbound <span class="hljs-number">2000</span> address-<span class="hljs-keyword">group</span> <span class="hljs-number">1</span>[FW-GigabitEthernet0<span class="hljs-regexp">/0/</span><span class="hljs-number">2</span>]q</code></pre></div><h3 id="任务九：远程登陆配置"><a href="#任务九：远程登陆配置" class="headerlink" title="任务九：远程登陆配置"></a>任务九：远程登陆配置</h3><h4 id="FW-4"><a href="#FW-4" class="headerlink" title="FW"></a>FW</h4><div class="code-wrapper"><pre><code class="hljs pgsql">[FW]<span class="hljs-keyword">user</span>-interface vty <span class="hljs-number">0</span> <span class="hljs-number">4</span>[FW-ui-vty0<span class="hljs-number">-4</span>]authentication-mode aaa[FW-ui-vty0<span class="hljs-number">-4</span>]<span class="hljs-keyword">user</span> privilege <span class="hljs-keyword">level</span> <span class="hljs-number">3</span>[FW-ui-vty0<span class="hljs-number">-4</span>]q[FW]aaa[FW-aaa]<span class="hljs-keyword">local</span>-<span class="hljs-keyword">user</span> jw <span class="hljs-keyword">password</span> cipher jw@<span class="hljs-number">2020</span><span class="hljs-keyword">Info</span>: <span class="hljs-keyword">Add</span> a <span class="hljs-built_in">new</span> <span class="hljs-keyword">user</span>.[FW-aaa]<span class="hljs-keyword">local</span>-<span class="hljs-keyword">user</span>  jw privilege <span class="hljs-keyword">level</span> <span class="hljs-number">3</span>[FW-aaa]<span class="hljs-keyword">local</span>-<span class="hljs-keyword">user</span> jw service-<span class="hljs-keyword">type</span> telnet[FW-aaa]q</code></pre></div>]]></content>
    
    
    <categories>
      
      <category>ensp</category>
      
    </categories>
    
    
    <tags>
      
      <tag>原创</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>二层ac+ap组网基础配置</title>
    <link href="/2022/09/04/ac-ap/"/>
    <url>/2022/09/04/ac-ap/</url>
    
    <content type="html"><![CDATA[<blockquote><blockquote><h1 id="AC-AP-配置"><a href="#AC-AP-配置" class="headerlink" title="AC+AP 配置"></a>AC+AP 配置</h1></blockquote><hr><p><strong>@author：Sunshine</strong></p><p><strong>@time: 2022&#x2F;6&#x2F;15</strong></p><p><strong>@software:Typora,ensp</strong></p></blockquote><h2 id="配置要求"><a href="#配置要求" class="headerlink" title="配置要求"></a>配置要求</h2><ul><li><p>（1）使用 ENSP 软件，根据拓扑图搭建网络环境（建议 AC 使用 6605 型号，AP 使用 6060 型号，交换机使用 3700 型号，不影响评分）或者导入 topo 文件。</p></li><li><p>（2）AP 管理 vlan100 使用地址段 100.100.100.0&#x2F;24 段，用户 AP1 使用 vlan10 地址段为 192.168.10.0&#x2F;24，用户 AP2 使用 vlan20 地址段为 192.168.20.0&#x2F;24。</p></li><li><p>（3）AP1 广播 SSID 名称为 scitc，AP2 广播 SSID 名称为 jiwang，都使用直接转发（本地转发）模式，密码无要求。（域管理模板、ssid 模板、安全管理模板、组名都属于自定义项）</p></li><li><p>（4）STA1 搜索无线网络，并连接上无线网络。</p></li></ul><h2 id="拓扑图"><a href="#拓扑图" class="headerlink" title="拓扑图"></a>拓扑图</h2><p><img src="https://s1.328888.xyz/2022/06/15/pmEFq.png"></p><h2 id="配置详细过程"><a href="#配置详细过程" class="headerlink" title="配置详细过程"></a>配置详细过程</h2><h3 id="AC1-配置"><a href="#AC1-配置" class="headerlink" title="AC1 配置"></a>AC1 配置</h3><ol><li><p>VLAN&amp;&amp;链路配置</p><div class="code-wrapper"><pre><code class="hljs ensp">&lt;AC6605&gt;sysEnter system view, return user view with Ctrl+Z.[AC6605]un in enInfo: Information center is disabled.[AC6605]vlan batch 100 10 20# 创建vlan100 20 10Info: This operation may take a few seconds. Please wait for a moment...done.[AC6605]dhcp enable# 开启DHCP服务Info: The operation may take a few seconds. Please wait for a moment.done.[AC6605]int g 0/0/2[AC6605-GigabitEthernet0/0/2]port link-type trunk# 更改接口类型为trunk[AC6605-GigabitEthernet0/0/2]port trunk allow-pass vlan 100 10 20 # 设置允许通过的vlan[AC6605-GigabitEthernet0/0/2]int vlan 100[AC6605-Vlanif100]description AP_Manage[AC6605-Vlanif100]ip add 192.168.100.1 24[AC6605-Vlanif100]dhcp select interface# DHCP选择源接口[AC6605-Vlanif100]quit[AC6605]int vlan 10[AC6605-Vlanif10]description uSER_AP1[AC6605-Vlanif10]ip add 192.168.10.1 24[AC6605-Vlanif10]dhcp select interface[AC6605-Vlanif10]quit[AC6605]int vlan 100[AC6605-Vlanif100]description uSER_AP2[AC6605-Vlanif100]ip add 192.168.20.1 24Info: IP pool on this interface has been deleted.[AC6605-Vlanif100]dhcp select interface[AC6605-Vlanif100]quit[AC6605]</code></pre></div></li><li><p>WLAN 配置</p><div class="code-wrapper"><pre><code class="hljs ensp">[AC6605]capwap source interface Vlanif 100# capwap隧道绑定vlan[AC6605]wlan# 进入无线配置视图[AC6605-wlan-view]regulatory-domain-profile name office-domain# 创建域管理模板[AC6605-wlan-regulate-domain-office-domain]country-code CN# 配置国家代码Info: The current country code is same with the input country code.[AC6605-wlan-regulate-domain-office-domain]quit[AC6605-wlan-view]ssid-profile name office-ssid-AP1 # 创建SSID模板[AC6605-wlan-ssid-prof-office-ssid-AP1]ssid scitc# 设置SSID名称为scitcInfo: This operation may take a few seconds, please wait.done.[AC6605-wlan-ssid-prof-office-ssid-AP1]quit[AC6605-wlan-view]ssid-profile name office-ssid-AP2[AC6605-wlan-ssid-prof-office-ssid-AP2]ssid jiwangInfo: This operation may take a few seconds, please wait.done.[AC6605-wlan-ssid-prof-office-ssid-AP2]quit[AC6605-wlan-view]security-profile name office-security# 创建安全策略[AC6605-wlan-sec-prof-office-security]security wpa-wpa2 psk pass-phrase 123456789 aes# 设置SSID密码Warning: The current password is too simple. For the sake of security, you are advised to set a password containing at least two of the following: lowercase letters a to z, uppercase letters A to Z, digits, and special characters. Continue? [Y/N]:Y[AC6605-wlan-sec-prof-office-security]vap-profile name office-vap-1# 创建VAP模板[AC6605-wlan-vap-prof-office-vap-1]forward-mode direct-forward# 配置业务数据转发模式[AC6605-wlan-vap-prof-office-vap-1]security-profile office-security# 绑定安全策略Info: This operation may take a few seconds, please wait.done.[AC6605-wlan-vap-prof-office-vap-1]ssid-profile office-ssid-AP1# 绑定SSID模板Info: This operation may take a few seconds, please wait.done.[AC6605-wlan-vap-prof-office-vap-1]service-vlan vlan-id 10# 绑定业务VLANInfo: This operation may take a few seconds, please wait.done.[AC6605-wlan-vap-prof-office-vap-1]quit[AC6605-wlan-view]vap-profile name office-vap-2[AC6605-wlan-vap-prof-office-vap-2]forward-mode direct-forward[AC6605-wlan-vap-prof-office-vap-2]security-profile office-securityInfo: This operation may take a few seconds, please wait.done.[AC6605-wlan-vap-prof-office-vap-2]ssid-profile office-ssid-AP2Info: This operation may take a few seconds, please wait.done.[AC6605-wlan-vap-prof-office-vap-2]service-vlan vlan-id 20Info: This operation may take a few seconds, please wait.done.[AC6605-wlan-vap-prof-office-vap-2]quit</code></pre></div></li><li><p>AP 上线配置</p><div class="code-wrapper"><pre><code class="hljs vbnet">[AC6605-wlan-view]ap-<span class="hljs-keyword">group</span> name office-ap-<span class="hljs-keyword">group</span>-<span class="hljs-number">1</span># 创建AP组<span class="hljs-symbol">Info:</span> This operation may <span class="hljs-keyword">take</span> a few seconds. Please wait <span class="hljs-keyword">for</span> a moment.done.[AC6605-wlan-ap-<span class="hljs-keyword">group</span>-office-ap-<span class="hljs-keyword">group</span>-<span class="hljs-number">1</span>]regulatory-domain-profile office-domain# 绑定域模板<span class="hljs-symbol">Warning:</span> Modifying the country code will clear channel, power <span class="hljs-built_in">and</span> antenna gain configurations <span class="hljs-keyword">of</span> the radio <span class="hljs-built_in">and</span> reset the AP. <span class="hljs-keyword">Continue</span>?[Y/N]:Y[AC6605-wlan-ap-<span class="hljs-keyword">group</span>-office-ap-<span class="hljs-keyword">group</span>-<span class="hljs-number">1</span>]vap-profile office-vap-<span class="hljs-number">1</span> wlan <span class="hljs-number">1</span> radio <span class="hljs-number">0</span><span class="hljs-symbol">Info:</span> This operation may <span class="hljs-keyword">take</span> a few seconds, please wait...done.[AC6605-wlan-ap-<span class="hljs-keyword">group</span>-office-ap-<span class="hljs-keyword">group</span>-<span class="hljs-number">1</span>]vap-profile office-vap-<span class="hljs-number">1</span> wlan <span class="hljs-number">1</span> radio <span class="hljs-number">1</span><span class="hljs-symbol">Info:</span> This operation may <span class="hljs-keyword">take</span> a few seconds, please wait...done.[AC6605-wlan-ap-<span class="hljs-keyword">group</span>-office-ap-<span class="hljs-keyword">group</span>-<span class="hljs-number">1</span>]quit[AC6605-wlan-view]ap-id <span class="hljs-number">0</span> ap-mac <span class="hljs-number">00e0</span>-fc93-<span class="hljs-number">52e0</span># 添加AP[AC6605-wlan-ap-<span class="hljs-number">0</span>]ap-<span class="hljs-keyword">group</span> office-ap-<span class="hljs-keyword">group</span>-<span class="hljs-number">1</span># 添加到AP组中<span class="hljs-symbol">Warning:</span> This operation may cause AP reset. <span class="hljs-keyword">If</span> the country code changes, it will clear channel, power <span class="hljs-built_in">and</span> antenna gain configurations <span class="hljs-keyword">of</span> the radio, Whether <span class="hljs-keyword">to</span> continue? [Y/N]:Y<span class="hljs-symbol">Info:</span> This operation may <span class="hljs-keyword">take</span> a few seconds. Please wait <span class="hljs-keyword">for</span> a moment.. done.[AC6605-wlan-ap-<span class="hljs-number">0</span>]quit[AC6605-wlan-view]ap-<span class="hljs-keyword">group</span> name office-ap-<span class="hljs-keyword">group</span>-<span class="hljs-number">2</span><span class="hljs-symbol">Info:</span> This operation may <span class="hljs-keyword">take</span> a few seconds. Please wait <span class="hljs-keyword">for</span> a moment.done.[AC6605-wlan-ap-<span class="hljs-keyword">group</span>-office-ap-<span class="hljs-keyword">group</span>-<span class="hljs-number">2</span>]regulatory-domain-profile office-domain<span class="hljs-symbol">Warning:</span> Modifying the country code will clear channel, power <span class="hljs-built_in">and</span> antenna gain configurations <span class="hljs-keyword">of</span> the radio <span class="hljs-built_in">and</span> reset the AP. <span class="hljs-keyword">Continue</span>?[Y/N]:<span class="hljs-symbol">Error:</span> Please choose <span class="hljs-comment">&#x27;YES&#x27; or &#x27;NO&#x27; first before pressing &#x27;Enter&#x27;. [Y/N]:y</span>[AC6605-wlan-ap-<span class="hljs-keyword">group</span>-office-ap-<span class="hljs-keyword">group</span>-<span class="hljs-number">2</span>]vap-profile office-vap-<span class="hljs-number">2</span> wlan <span class="hljs-number">1</span> radio <span class="hljs-number">0</span><span class="hljs-symbol">Info:</span> This operation may <span class="hljs-keyword">take</span> a few seconds, please wait...done.[AC6605-wlan-ap-<span class="hljs-keyword">group</span>-office-ap-<span class="hljs-keyword">group</span>-<span class="hljs-number">2</span>]vap-profile office-vap-<span class="hljs-number">2</span> wlan <span class="hljs-number">1</span> radio <span class="hljs-number">1</span><span class="hljs-symbol">Info:</span> This operation may <span class="hljs-keyword">take</span> a few seconds, please wait...done.[AC6605-wlan-ap-<span class="hljs-keyword">group</span>-office-ap-<span class="hljs-keyword">group</span>-<span class="hljs-number">2</span>]quit[AC6605-wlan-view]ap-id <span class="hljs-number">1</span> ap-mac <span class="hljs-number">00e0</span>-fce9-<span class="hljs-number">3580</span>[AC6605-wlan-ap-<span class="hljs-number">1</span>]ap-<span class="hljs-keyword">group</span> office-ap-<span class="hljs-keyword">group</span>-<span class="hljs-number">2</span><span class="hljs-symbol">Warning:</span> This operation may cause AP reset. <span class="hljs-keyword">If</span> the country code changes, it will clear channel, power <span class="hljs-built_in">and</span> antenna gain configurations <span class="hljs-keyword">of</span> the radio, Whether <span class="hljs-keyword">to</span> continue? [Y/N]:Y<span class="hljs-symbol">Info:</span> This operation may <span class="hljs-keyword">take</span> a few seconds. Please wait <span class="hljs-keyword">for</span> a moment.. done.[AC6605-wlan-ap-<span class="hljs-number">1</span>]quit</code></pre></div></li></ol><h3 id="LSW1-配置"><a href="#LSW1-配置" class="headerlink" title="LSW1 配置"></a>LSW1 配置</h3><ol><li><p>VLAN&amp;&amp;链路配置</p><div class="code-wrapper"><pre><code class="hljs ensp">&lt;Huawei&gt;sysEnter system view, return user view with Ctrl+Z.[Huawei]un in enInfo: Information center is disabled.[Huawei]vlan batch 100 10 20# 创建vlan100 20 10Info: This operation may take a few seconds. Please wait for a moment...done.[Huawei]int e 0/0/1[Huawei-Ethernet0/0/1]description to_AC[Huawei-Ethernet0/0/1]port link-type trunk[Huawei-Ethernet0/0/1]port trunk allow-pass vlan 100 10 20[Huawei-Ethernet0/0/1]int e 0/0/2[Huawei-Ethernet0/0/2]description to_AP1[Huawei-Ethernet0/0/2]port link-type trunk[Huawei-Ethernet0/0/2]port trunk pvid vlan 100[Huawei-Ethernet0/0/2]port trunk allow-pass vlan 100 10[Huawei-Ethernet0/0/2]quit[Huawei]int e 0/0/3[Huawei-Ethernet0/0/3]description to_AP2[Huawei-Ethernet0/0/3]port link-type trunk[Huawei-Ethernet0/0/3]port trunk pvid vlan 100[Huawei-Ethernet0/0/3]port trunk allow-pass vlan 100 20[Huawei-Ethernet0/0/3]quit</code></pre></div></li></ol>]]></content>
    
    
    <categories>
      
      <category>ensp</category>
      
    </categories>
    
    
    <tags>
      
      <tag>原创</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello world ！</title>
    <link href="/2022/09/03/hello-world/"/>
    <url>/2022/09/03/hello-world/</url>
    
    <content type="html"><![CDATA[<p>恭喜你！ 成功捕获一只小菜鸡 :）</p><p>这是一篇测试文章</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>原创</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
